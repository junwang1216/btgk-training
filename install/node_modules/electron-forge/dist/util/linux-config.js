'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.populateConfig = populateConfig;
exports.linuxConfig = linuxConfig;

var _lodash = require('lodash.merge');

var _lodash2 = _interopRequireDefault(_lodash);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _configFn = require('./config-fn');

var _configFn2 = _interopRequireDefault(_configFn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function populateConfig({ forgeConfig, configKey, targetArch }) {
  const config = (0, _configFn2.default)(forgeConfig[configKey] || {}, targetArch);
  config.options = config.options || {};

  return config;
}

function linuxConfig({ config, pkgArch, dir, outPath }) {
  return (0, _lodash2.default)({}, config, {
    arch: pkgArch,
    dest: _path2.default.dirname(outPath),
    src: dir
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwvbGludXgtY29uZmlnLmpzIl0sIm5hbWVzIjpbInBvcHVsYXRlQ29uZmlnIiwibGludXhDb25maWciLCJmb3JnZUNvbmZpZyIsImNvbmZpZ0tleSIsInRhcmdldEFyY2giLCJjb25maWciLCJvcHRpb25zIiwicGtnQXJjaCIsImRpciIsIm91dFBhdGgiLCJhcmNoIiwiZGVzdCIsImRpcm5hbWUiLCJzcmMiXSwibWFwcGluZ3MiOiI7Ozs7O1FBS2dCQSxjLEdBQUFBLGM7UUFPQUMsVyxHQUFBQSxXOztBQVpoQjs7OztBQUNBOzs7O0FBRUE7Ozs7OztBQUVPLFNBQVNELGNBQVQsQ0FBd0IsRUFBRUUsV0FBRixFQUFlQyxTQUFmLEVBQTBCQyxVQUExQixFQUF4QixFQUFnRTtBQUNyRSxRQUFNQyxTQUFTLHdCQUFTSCxZQUFZQyxTQUFaLEtBQTBCLEVBQW5DLEVBQXVDQyxVQUF2QyxDQUFmO0FBQ0FDLFNBQU9DLE9BQVAsR0FBaUJELE9BQU9DLE9BQVAsSUFBa0IsRUFBbkM7O0FBRUEsU0FBT0QsTUFBUDtBQUNEOztBQUVNLFNBQVNKLFdBQVQsQ0FBcUIsRUFBRUksTUFBRixFQUFVRSxPQUFWLEVBQW1CQyxHQUFuQixFQUF3QkMsT0FBeEIsRUFBckIsRUFBd0Q7QUFDN0QsU0FBTyxzQkFBTSxFQUFOLEVBQVVKLE1BQVYsRUFBa0I7QUFDdkJLLFVBQU1ILE9BRGlCO0FBRXZCSSxVQUFNLGVBQUtDLE9BQUwsQ0FBYUgsT0FBYixDQUZpQjtBQUd2QkksU0FBS0w7QUFIa0IsR0FBbEIsQ0FBUDtBQUtEIiwiZmlsZSI6InV0aWwvbGludXgtY29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC5tZXJnZSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IGNvbmZpZ0ZuIGZyb20gJy4vY29uZmlnLWZuJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlQ29uZmlnKHsgZm9yZ2VDb25maWcsIGNvbmZpZ0tleSwgdGFyZ2V0QXJjaCB9KSB7XG4gIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ0ZuKGZvcmdlQ29uZmlnW2NvbmZpZ0tleV0gfHwge30sIHRhcmdldEFyY2gpO1xuICBjb25maWcub3B0aW9ucyA9IGNvbmZpZy5vcHRpb25zIHx8IHt9O1xuXG4gIHJldHVybiBjb25maWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW51eENvbmZpZyh7IGNvbmZpZywgcGtnQXJjaCwgZGlyLCBvdXRQYXRoIH0pIHtcbiAgcmV0dXJuIG1lcmdlKHt9LCBjb25maWcsIHtcbiAgICBhcmNoOiBwa2dBcmNoLFxuICAgIGRlc3Q6IHBhdGguZGlybmFtZShvdXRQYXRoKSxcbiAgICBzcmM6IGRpcixcbiAgfSk7XG59XG4iXX0=